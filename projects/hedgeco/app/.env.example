# =============================================================================
# HedgeCo.Net Environment Configuration
# =============================================================================
# Copy this file to .env.local for local development
# For production, set these as environment variables in your hosting platform
# See docs/ENVIRONMENT.md for detailed documentation

# =============================================================================
# DATABASE (Required)
# =============================================================================
# PostgreSQL connection URL with pgvector extension
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
# Production: Add ?sslmode=require for secure connections
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/hedgeco?schema=public"

# Connection pool size (default: 10)
# DATABASE_POOL_SIZE=10

# =============================================================================
# AUTHENTICATION (Required)
# =============================================================================
# JWT secrets - MUST be unique per environment
# Generate with: openssl rand -hex 32

# Secret for signing access tokens
JWT_SECRET="your-super-secret-jwt-key-change-in-production"

# Secret for signing refresh tokens
JWT_REFRESH_SECRET="your-super-secret-refresh-key-change-in-production"

# Token expiration times
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# =============================================================================
# APPLICATION
# =============================================================================
# Public URL of the application (used for emails, OAuth callbacks, etc.)
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Application environment (development, production, test)
NODE_ENV="development"

# Server port
PORT="3000"

# Logging level (debug, info, warn, error)
LOG_LEVEL="debug"

# =============================================================================
# REDIS (Optional - for caching and rate limiting)
# =============================================================================
# Redis connection URL
# Format: redis://[:password@]host:port[/database]
# REDIS_URL="redis://localhost:6379"

# Require Redis for health checks (set to true in production if Redis is critical)
# REDIS_REQUIRED="false"

# =============================================================================
# EMAIL (Optional - choose one provider)
# =============================================================================
# --- Resend ---
# RESEND_API_KEY="re_xxxxx"

# --- SendGrid ---
# SENDGRID_API_KEY="SG.xxxxx"

# --- SMTP ---
# SMTP_HOST="smtp.example.com"
# SMTP_PORT="587"
# SMTP_USER="your-email@example.com"
# SMTP_PASSWORD="your-smtp-password"
# EMAIL_FROM="noreply@hedgeco.net"

# =============================================================================
# FILE STORAGE (Optional - choose one provider)
# =============================================================================
# --- AWS S3 ---
# AWS_ACCESS_KEY_ID="your-access-key"
# AWS_SECRET_ACCESS_KEY="your-secret-key"
# AWS_REGION="us-east-1"
# AWS_S3_BUCKET="hedgeco-uploads"

# --- Cloudflare R2 ---
# R2_ACCOUNT_ID="your-account-id"
# R2_ACCESS_KEY_ID="your-access-key"
# R2_SECRET_ACCESS_KEY="your-secret-key"
# R2_BUCKET="hedgeco-uploads"

# =============================================================================
# STRIPE - Payments & Subscriptions
# =============================================================================
# Secret key (from Stripe Dashboard > Developers > API keys)
STRIPE_SECRET_KEY="sk_test_xxxxx"

# Webhook secret (from Stripe Dashboard > Developers > Webhooks)
STRIPE_WEBHOOK_SECRET="whsec_xxxxx"

# Publishable key (for client-side)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY="pk_test_xxxxx"

# Price IDs for subscription tiers (create in Stripe Dashboard > Products)
STRIPE_PRICE_BASIC="price_xxxxx"
STRIPE_PRICE_PRO="price_xxxxx"
STRIPE_PRICE_ENTERPRISE="price_xxxxx"

# =============================================================================
# RATE LIMITING
# =============================================================================
# Rate limit window in milliseconds
RATE_LIMIT_WINDOW_MS="60000"

# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS="100"

# =============================================================================
# MONITORING & ANALYTICS (Optional)
# =============================================================================
# --- Sentry (Error Tracking) ---
# SENTRY_DSN="https://xxxxx@sentry.io/xxxxx"
# NEXT_PUBLIC_SENTRY_DSN="https://xxxxx@sentry.io/xxxxx"

# --- Google Analytics ---
# NEXT_PUBLIC_GOOGLE_ANALYTICS_ID="G-XXXXXXXXXX"

# --- Plausible Analytics ---
# NEXT_PUBLIC_PLAUSIBLE_DOMAIN="hedgeco.net"

# =============================================================================
# SECURITY
# =============================================================================
# Allowed origins for CORS (comma-separated)
CORS_ORIGINS="http://localhost:3000"

# Content Security Policy reporting endpoint
# CSP_REPORT_URI="https://your-csp-report-endpoint.com"

# =============================================================================
# AI/OPENAI (Optional - for AI features)
# =============================================================================
# OPENAI_API_KEY="sk-xxxxx"
# OPENAI_MODEL="gpt-4-turbo-preview"

# =============================================================================
# TESTING
# =============================================================================
# Test user credentials for E2E tests (seed these in the test database)
# TEST_USER_EMAIL="test@hedgeco.net"
# TEST_USER_PASSWORD="TestPassword123!"
# TEST_ADMIN_EMAIL="admin@hedgeco.net"
# TEST_ADMIN_PASSWORD="AdminPassword123!"
# TEST_MANAGER_EMAIL="manager@hedgeco.net"
# TEST_MANAGER_PASSWORD="ManagerPassword123!"

# Playwright base URL
# PLAYWRIGHT_BASE_URL="http://localhost:3000"

# =============================================================================
# FEATURE FLAGS (Optional)
# =============================================================================
# Enable/disable features
# FEATURE_MESSAGING_ENABLED="true"
# FEATURE_ANALYTICS_ENABLED="true"
# FEATURE_DOCUMENT_UPLOADS_ENABLED="true"
# FEATURE_AI_ENABLED="true"

# =============================================================================
# DOCKER/CONTAINER (Set automatically by docker-compose)
# =============================================================================
# These are typically set by docker-compose.yml
# DATABASE_URL="postgresql://hedgeco:hedgeco_password@postgres:5432/hedgeco"
# REDIS_URL="redis://redis:6379"
